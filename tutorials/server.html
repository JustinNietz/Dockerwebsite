<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Tutorials | How to Setup a Web Server Using Docker</title>

    <link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Font awesome -->
    <script src="https://kit.fontawesome.com/c2acbb3625.js" crossorigin="anonymous"></script>
    <!-- Index CSS -->
    <link href="../css/index.css" rel="stylesheet">


</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top pt-2 pb-2">
    <div class="container">
        <a class="navbar-brand" href="../index.html"><i class="fas fa-home fa-lg"></i></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav">
                <li class="nav-item dropdown px-3">
                    <a class="nav-link dropdown-toggle " href="#" id="navbarDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Topics
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="../topics/virtualization.html">Virtualization</a>
                        <a class="dropdown-item" href="../topics/containerization.html">Containerization</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="../topics/compare.html">Containerization vs. Virtualization</a>
                    </div>
                </li>
                <li class="nav-item dropdown px-3">
                    <a class="nav-link active dropdown-toggle " href="#" id="navbarDropdown2" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Tutorials
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="server.html">How to Setup a Web Server Using Docker</a>
                        <a class="dropdown-item" href="connect.html">How to Connect Docker with Pycharm</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="linux_commands.html">Extras: Linux Commands</a>
                    </div>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" href="../about.html">About</a>
                </li>
                <li class="nav-item px-3">
                    <a class="nav-link" href="../team.html">Team</a>
                </li>
            </ul>
        </div>
    </div>
</nav>


<!-- Page Content -->
<div class="container content-rounded">
    <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-8" data-spy="scroll" data-target="#navbar-example3" data-offset="0">

            <!-- Title -->
            <h1 class="mt-4">How to Setup a Web Server Using Docker</h1>

            <!-- Author -->
            <p class="lead">
                by
                <a href="../team.html">Nikolett Muller</a>
            </p>
            <!-- Preview Image -->
            <img class="img-fluid rounded center" src="../images/server.svg" width="400" height="300" alt="server">

            <hr>

            <!-- Post Content -->
            <h4 id="item-1"></h4>
            <p><i>Let us see how we can build a web server image which can be used to build containers.</i></p>

            <h2>1. Installing Docker</h2>

            <p>Firstly, we need to install Docker.</p>

            <h5>A, Instructions for Windows Users</h5>
            <p>There are needed requirements to install Docker Desktop:</p>

            <ul>
                <li>Windows 10, version 1903 or higher</li>
                <li>64 bit processor</li>
                <li>4GB system RAM</li>
                <li>BIOS-level hardware virtualization support must be enabled in the BIOS settings</li>
                <li>Linux kernel update package is installed</li>
                <li>WSL 2 feature is enabled</li>
            </ul>

            <p>If all requirements are met, we can download <strong>Docker Desktop Installer.exe </strong> from
                <strong>Docker Hub</strong>. After that, we need to just double-click on the file to run the installer.
                It is highly important that we ensure the<strong> Enable WSL 2 Features</strong> option is selected on
                the Configuration page. By following the instructions given by the installation wizard, we can proceed
                with the install. </p>

            <p>Docker Desktop does not run automatically after we installed it. To start the program, we need to search
                for it on our computer.</p>
            <figure>
                <img class="img-fluid rounded" src="../images/Finding_Docker.png"
                     alt="Successful search for Docker Desktop">
                <figcaption>
                    Searching for Docker Desktop to run the program first time
                </figcaption>
            </figure>

            <p>Docker is running when the <strong>whale icon</strong> appears on the taskbar; we can access it from any
                terminal now.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/Docker_taskbar.png" alt="Whale icon appears on task bar">
                <figcaption>Whale icon on task bar</figcaption>
            </figure>

            <h5>B, Instructions for MAC Users</h5>

            <p>Needed requirements to install Docker Desktop:</p>

            <ul>
                <li>macOS must be version 10.14 or newer (Mojave, Catalina, or Big Sur)</li>
                <li>At least 4 GB of RAM</li>
                <li>VirtualBox prior to version 4.3.30 must not be installed as it is not compatible with Docker
                    Desktop
                </li>
            </ul>

            <p>Installing Docker on macOS is just as easy as on Windows. We need to double-click on
                <strong>Docker.dmg</strong>, then drag the Docker icon to our Applications folder.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/Docker_macOS.png"
                     alt="It shows how to drag Docker app to Applications folder">
                <figcaption>
                    Dragging Docker app to Applications folder
                    <a href="https://docs.docker.com/docker-for-mac/install/" target="_blank"><p>via Docker
                        Documentation</p></a>
                </figcaption>
            </figure>

            <p>After dragging it, we just need to double-click on <strong>Docker.app</strong> in the Applications folder
                to start the program the first time.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/macOS_startDocker.png" alt="">
                <figcaption>
                    A quick double-click on Docker.app
                    <a href="https://docs.docker.com/docker-for-mac/install/" target="_blank"><p>via Docker
                        Documentation</p></a>
                </figcaption>
            </figure>

            <p>When we notice the whale icon in the top status bar, it shows that Docker Desktop is up and running.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/Docker_menubarMAC.png"
                     alt="A whale icon is circled with red">
                <figcaption>
                    Whale icon appears
                    <a href="https://docs.docker.com/docker-for-mac/install/" target="_blank"><p>via Docker
                        Documentation</p></a>
                </figcaption>
            </figure>

            <h2>2. Pulling an Ubuntu Image from Docker Hub</h2>
            <p>We go to Docker Hub, and we search for an <strong>Ubuntu image</strong>.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/Ubuntu_DockerHub.png" alt="Ubuntu image on Docker Hub">
                <figcaption>Ubuntu image on Docker Hub
                    <a href="https://hub.docker.com/_/ubuntu" target="_blank"><p>via Docker Hub</p></a>
                </figcaption>
            </figure>

            <p>We copy the given command: <code>docker pull ubuntu</code>, then we paste it to any terminal. The command
                runs like this.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/pulled_Ubuntu_gitbash.png"
                     alt="Pulling Ubuntu image in Git Bash">
                <figcaption>Ubuntu image is pulled using Git Bash</figcaption>
            </figure>

            <p>We can check whether the Ubuntu image is located on our computer. To do that, we can use <code>docker
                images</code> command.</p>
            <h2>3. Installing Vim and Apache 2</h2>

            <p>To install the programs, we need to log in our Ubuntu in <strong>Docker container</strong>. We use the
                following command to do that: <code>docker run -it ubuntu:latest /bin/bash</code>.
                After doing that, we need to run the <code>apt-get update </code> command to update all the packages.
            </p>

            <figure>
                <img class="img-fluid rounded" src="../images/apache2.png"
                     alt="Installing Apache 2 in terminal">
                <figcaption>Installing Apache 2</figcaption>
            </figure>

            <p>After updating, we can start installing <strong>Apache 2</strong> on our image. We use the <code>apt-get
                install
                apache2</code> command.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/apt-get-update.png"
                     alt="Using apt-get update command">
                <figcaption>Updating packages using Command Prompt</figcaption>
            </figure>
            <p>Now, we can install <strong>Vim text editor</strong> using the <code>apt-get install vim</code> command.
            </p>

            <figure>
                <img class="img-fluid rounded" src="../images/vim.png"
                     alt="Installing Vim text editor">
                <figcaption>Installing Vim text editor</figcaption>
            </figure>
            <p>After installing Apache 2 and Vim, we can exit Ubuntu container using the <code>exit</code> command. Our
                next task is to commit the container to create a new Docker image. Firstly, we check the container using
                the <code>docker ps -a</code> command. Secondly, we create a new Docker image using the
                <code>docker commit &lt;container ID> &lt;new Docker image name></code> command.
                Lastly, we check the new image using the <code>docker images</code> command.
                All three steps are visible in the following image.
            </p>

            <figure>
                <img class="img-fluid rounded" src="../images/share.png"
                     alt="Three steps to create a new Docker image">
                <figcaption>Three steps to create a new Docker image</figcaption>
            </figure>

            <h2>4. How to Share a Directory Between Docker and Host</h2>

            <p>The Docker container does not save any data after we close it. If we want to read and save any data in
                the host, a <strong>shared directory</strong> is needed for Docker containers. To solve this problem, we
                use <code>docker run -it -p 127.0.0.1:80:80 -v &lt;directory of the host computer>:/var/www/html
                    &lt;Docker image name> /bin/bash</code> command.
            </p>

            <figure>
                <img class="img-fluid rounded" src="../images/sharing_data.png"
                     alt="How to share data">
                <figcaption>Creating the shared directory</figcaption>
            </figure>

            <h2>5. Using Vi to Create and Edit Index.html in the Shared Directory</h2>

            <p>We check the present working directory using <code>pwd</code> command. After checking it, we go to the
                directory that will have the html file. To do that, we type <code>cd /var/www/html</code> command into
                the terminal. The image above shows these steps.</p>

            <p>When we are in the correct directory, we can finally create the <strong>index.html</strong> file using
                <code>vi index.html</code>command. Pressing <strong>“i” key</strong>, we can begin editing the newly
                created file; we put our code here.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/index_code.png"
                     alt="Inserted code in index.html">
                <figcaption>Inserting code into index.html</figcaption>
            </figure>

            <p>When we are done with editing, we press the <strong>“ESC”</strong> key then we type <code>:wq</code>
                command to save the file and quit Vi.
            </p>

            <h2>6. How to Use Docker to Host a Website</h2>

            <p>To host our website, we need to start Apache 2 service using <code>/etc/init.d/apache2 restart </code>
                command.</p>

            <figure>
                <img class="img-fluid rounded" src="../images/restart.png"
                     alt="Starting Apache 2 service">
                <figcaption>Starting Apache 2 service</figcaption>
            </figure>

            <p>After this step, we can see our website by typing <i>“127.0.0.1"</i> into the address bar of our browser.
            </p>
            <figure>
                <img class="img-fluid rounded" src="../images/Hello.png"
                     alt="Website says: Hello, world! Congratulations!">
                <figcaption>Website becomes visible</figcaption>
            </figure>

            <hr class="featurette-divider">


        </div>

        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">

            <!-- Categories Widget -->
            <div class="card my-4">
                <h5 class="card-header">All Tutorials</h5>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <ul class="list-unstyled mb-0 text-center">
                                <li>
                                    <a href="../tutorials/server.html">Docker and Web server</a>
                                </li>
                                <li>
                                    <a href="../tutorials/connect.html">Connecting Docker with Pycharm</a>
                                </li>
                                <li>
                                    <a href="../tutorials/linux_commands.html">Linux commands</a>
                                </li>
                            </ul>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Side Widget -->
            <div class="card my-4">
                <h5 class="card-header">Learn more</h5>
                <div class="card-body">
                    <iframe class="center" height="300"
                    src="https://www.youtube.com/embed/2FOnngHmF7Y">
                    </iframe>
                </div>
            </div>

        </div>

    </div>
    <!-- /.row -->

</div>
<!-- /.container -->

<!-- Pagination -->
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li class="page-item">
            <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <li class="page-item active"><a class="page-link" href="server.html">1</a></li>
        <li class="page-item"><a class="page-link" href="connect.html">2</a></li>
        <li class="page-item"><a class="page-link" href="linux_commands.html">3</a></li>
        <li class="page-item">
            <a class="page-link" href="linux_commands.html">Next</a>
        </li>
    </ul>
</nav>
<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; Nietzer and Muller 2021</p>
        <p class="m-0 text-center text-white"><a href="#">Back to top</a></p>
    </div>
    <!-- /.container -->
</footer>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>